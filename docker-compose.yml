name: "cluster "
services:
  front-end:
    image: repository.hal.davecutting.uk:5005/40324582/editor-frontend/editor-frontend:latest
    ports:
      - "80:80"
    restart: always
    networks:
      - docker-network


  char-count:
    image: repository.hal.davecutting.uk:5005/40324582/editor-charcount/editor-charcount:latest
    restart: always
    ports:
      - "8080:80"
    networks:
      - docker-network


  full-stop-count:
    image: repository.hal.davecutting.uk:5005/40324582/editor-fullstop-count/editor-fullstop-count:latest
    restart: always
    ports:
      - "8081:80"
    networks:
      - docker-network


  count-palindrome:
    image: repository.hal.davecutting.uk:5005/40324582/editor-palindrone-count/editor-palindrone-count:latest
    restart: always
    ports:
      - "8082:80"
    networks:
      - docker-network


  average-word-length:
    image: repository.hal.davecutting.uk:5005/40324582/editor-average-length-of-word/editor-average-length-of-word:latest
    restart: always
    ports:
      - "8083:80"
    networks:
      - docker-network


  spell-check:
    image: repository.hal.davecutting.uk:5005/40324582/editor-spellchecker/editor-spellchecker:latest
    restart: always
    ports:
      - "8084:80"
    networks:
      - docker-network


  word-count:
    image: repository.hal.davecutting.uk:5005/40324582/editor-wordcount/editor-wordcount:latest
    restart: always
    ports:
      - "8085:80"
    networks:
      - docker-network

  database:
    image: repository.hal.davecutting.uk:5005/40324582/database-service/database-service:latest
    restart: always
    ports:
      - "8086:80"
    networks:
      - docker-network

  monitor:
    image: monitor:latest
    restart: always
    networks:
      - docker-network
    ports:
      - "81:80"
    environment:
      - docker-network
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  reverse-proxy:
    image: repository.hal.davecutting.uk:5005/40324582/reverse_proxy/reverse_proxy:latest
    restart: always
    ports:
      - "9000:5000"
    networks:
      - docker-network
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

networks:
  docker-network:
    driver: bridge
